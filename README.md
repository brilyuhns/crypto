# Usage

Ensure you have ruby installed. Known to work with versions 2.7, 3.0 on Macbook Air M1 running Big Sur. YMMV
```
ruby -v 
```

Incase you don't have bundler ...
```
gem install bundler
```

Install dependencies
```
bundle install
```

Run
```
ruby crypto.rb coinhako.csv binance.json 
```

## Coinhako

* Login to coinhako.com
* Goto "Trade History" page ( https://www.coinhako.com/wallet/history/trade ) 
* Download CSV and save as `coinhako.csv`

## Binance SG

* Login to binance.sg
* Goto "History -> Buy/Sell" ( https://www.binance.sg/en/usercenter/history/buysell )
* Open dev tools (Cmd + Shift + I)
* Copy the response of the API call https://www.binance.sg/gateway-api/v1/private/ocbs/get-user-payment-history
* Save it as `binance.json`

## Gemini

* WIP

## Sample Output

```
----------------------------------------- DOGE / SGD -------------------------------------------

┌────────────────────────────────────────────────────────────────────────┐
│                                  Buys                                  │
├──────────┬────────────────────┬──────┬────────────────┬────────────────┤
│ Exchange │ DOGE               │ SGD  │ Fee            │ # Transactions │
╞══════════╪════════════════════╪══════╪════════════════╪════════════════╡
│ Coinhako │ 457.82819910337173 │ 32.0 │ 0.24 ( 0.75% ) │ 1              │
└──────────┴────────────────────┴──────┴────────────────┴────────────────┘

Average Buy price: 0.06989521410579345

┌───────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                               Notable Buys                                                │
├───────────────────────┬─────────────────────────────────┬──────────┬──────┬──────────┬────────────────────┤
│ Type                  │ Time                            │ Exchange │ SGD  │ Rate     │ DOGE               │
╞═══════════════════════╪═════════════════════════════════╪══════════╪══════╪══════════╪════════════════════╡
│ Lowest Rate           │ Fri, 19 Feb 2021 00:35:00 +0800 │ Coinhako │ 32.0 │ 0.069371 │ 457.82819910337173 │
│ Highest Rate          │ Fri, 19 Feb 2021 00:35:00 +0800 │ Coinhako │ 32.0 │ 0.069371 │ 457.82819910337173 │
│ Most Recent           │ Fri, 19 Feb 2021 00:35:00 +0800 │ Coinhako │ 32.0 │ 0.069371 │ 457.82819910337173 │
│ Most Crypto Obtained  │ Fri, 19 Feb 2021 00:35:00 +0800 │ Coinhako │ 32.0 │ 0.069371 │ 457.82819910337173 │
│ Least Crypto Obtained │ Fri, 19 Feb 2021 00:35:00 +0800 │ Coinhako │ 32.0 │ 0.069371 │ 457.82819910337173 │
└───────────────────────┴─────────────────────────────────┴──────────┴──────┴──────────┴────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                                    Sells                                    │
├──────────┬────────────────────┬───────┬────────────────────┬────────────────┤
│ Exchange │ DOGE               │ SGD   │ Fee                │ # Transactions │
╞══════════╪════════════════════╪═══════╪════════════════════╪════════════════╡
│ Coinhako │ 457.82819910337173 │ 39.68 │ 0.2998488561502645 │ 1              │
└──────────┴────────────────────┴───────┴────────────────────┴────────────────┘

Average Sell price: 0.08667006549118388

┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                              Notable Sells                                               │
├─────────────────────┬─────────────────────────────────┬──────────┬────────────────────┬──────────┬───────┤
│ Type                │ Time                            │ Exchange │ SGD                │ Rate     │ DOGE  │
╞═════════════════════╪═════════════════════════════════╪══════════╪════════════════════╪══════════╪═══════╡
│ Lowest Rate         │ Thu, 01 Apr 2021 20:11:00 +0800 │ Coinhako │ 457.82819910337173 │ 0.087325 │ 39.68 │
│ Highest Rate        │ Thu, 01 Apr 2021 20:11:00 +0800 │ Coinhako │ 457.82819910337173 │ 0.087325 │ 39.68 │
│ Most Recent         │ Thu, 01 Apr 2021 20:11:00 +0800 │ Coinhako │ 457.82819910337173 │ 0.087325 │ 39.68 │
│ Most Fiat Obtained  │ Thu, 01 Apr 2021 20:11:00 +0800 │ Coinhako │ 457.82819910337173 │ 0.087325 │ 39.68 │
│ Least Fiat Obtained │ Thu, 01 Apr 2021 20:11:00 +0800 │ Coinhako │ 457.82819910337173 │ 0.087325 │ 39.68 │
└─────────────────────┴─────────────────────────────────┴──────────┴────────────────────┴──────────┴───────┘

Total DOGE owned: 0.0 ( Bought: 457.82819910337173, Sold: 457.82819910337173)

```